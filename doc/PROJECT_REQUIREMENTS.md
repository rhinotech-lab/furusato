# プロジェクト機能 システム要件

## 概要

プロジェクト機能は、ふるさと納税のバナー制作を管理するための単位です。複数の商品とバナー画像を1つのプロジェクトにまとめて管理できます。

## プロジェクトの基本情報

### プロジェクトに設定できる項目

- **プロジェクト名**: プロジェクトを識別するための名称（例：「冬の特産品キャンペーン2025」）
- **所属自治体**: プロジェクトを管理する自治体（必須）
- **説明**: プロジェクトの詳細説明（任意）
- **ステータス**: プロジェクトの進行状況
  - 未開始（not_started）
  - 進行中（in_progress）
  - 完了（completed）
- **素材回収期限**: 制作に必要な素材を回収する期限（任意）
- **掲載締切日**: バナーを掲載する期限（任意）
- **作成日**: プロジェクトが作成された日付

## プロジェクトと他のデータの関係

### プロジェクト → 商品 → バナー画像

1. **プロジェクト**は**自治体**に紐づいています
2. **商品**は**事業者**に紐づいており、任意で**プロジェクト**にも紐づけられます
3. **バナー画像**は**商品**に紐づいているため、間接的に**プロジェクト**にも紐づいています

```
自治体
  └─ プロジェクト（例：冬の特産品キャンペーン2025）
      └─ 商品（例：特選ジンギスカンセット）
          └─ バナー画像（例：2026年2月　肉類系）
```

## プロジェクトの新規登録方法（初心者向け）

### ステップ1: プロジェクト一覧画面にアクセス

1. ログイン後、左側のサイドバーメニューから「プロジェクト一覧」をクリックします
   - システム管理者または制作者の場合は、メニューに「プロジェクト一覧」が表示されます
   - 自治体ユーザーの場合は、自分の自治体のプロジェクトのみ表示されます

### ステップ2: 新規登録ボタンをクリック

2. プロジェクト一覧画面の右上にある「新規登録」ボタン（＋アイコン付き）をクリックします

### ステップ3: プロジェクト情報を入力

3. プロジェクト登録フォームが表示されます。以下の項目を入力します：

   **必須項目（*マークがついている項目）:**
   - **所属自治体**: プルダウンメニューから、このプロジェクトを管理する自治体を選択します
     - 自治体ユーザーの場合は、自動的に自分の自治体が選択されています
   - **プロジェクト名**: プロジェクトを識別するための名前を入力します
     - 例：「冬の特産品キャンペーン2025」「新生活応援特集」など
   - **ステータス**: プロジェクトの進行状況を選択します
     - 「未開始」: まだ作業を開始していないプロジェクト
     - 「進行中」: 現在作業中のプロジェクト
     - 「完了」: 作業が完了したプロジェクト

   **任意項目:**
   - **説明**: プロジェクトの詳細説明を入力します（任意）
   - **素材回収期限**: 制作に必要な素材を回収する期限を選択します（任意）
   - **掲載締切日**: バナーを掲載する期限を選択します（任意）

### ステップ4: 保存

4. すべての必須項目を入力したら、画面下部の「保存する」ボタンをクリックします
   - 入力内容に問題がなければ、プロジェクト一覧画面に戻り、新しく作成したプロジェクトが表示されます
   - キャンセルしたい場合は、「キャンセル」ボタンをクリックします

### 補足

- プロジェクトを作成した後は、商品登録時にこのプロジェクトを選択して紐づけることができます
- プロジェクトの情報は、後から編集画面で変更できます
- プロジェクト一覧画面では、検索やフィルター機能を使って、目的のプロジェクトを素早く見つけることができます

## プロジェクトでできること

### 1. プロジェクトの作成

- 新しいプロジェクトを作成できます
- プロジェクト名、所属自治体、説明、ステータス、素材回収期限、掲載締切日を設定できます

### 2. プロジェクトの編集

- 既存のプロジェクトの情報を変更できます
- プロジェクト名、説明、ステータス、期限などを更新できます

### 3. プロジェクトの削除

- 不要になったプロジェクトを削除できます
- （注意：プロジェクトに紐づいている商品や画像がある場合は、削除前に確認が必要）

### 4. プロジェクトの一覧表示

- すべてのプロジェクトを一覧で確認できます
- ステータス、自治体、期限などでフィルタリングできます
- プロジェクトごとの進捗状況を確認できます

### 5. 商品への紐付け

- 商品登録時に、その商品をどのプロジェクトに紐づけるかを選択できます
- 1つの商品は1つのプロジェクトに紐づけることができます（紐付けは任意）
- 商品登録後も、プロジェクトへの紐付けを変更できます

### 6. プロジェクト単位での進捗管理

- プロジェクトに紐づいているすべての商品とバナー画像を一括で確認できます
- プロジェクト内の承認待ち画像数、承認済み画像数などを把握できます

### 7. プロジェクト単位での期限管理

- プロジェクトの素材回収期限と掲載締切日を設定できます
- 期限が近づくとアラートが表示されます

### 8. プロジェクト単位での報告書生成

- プロジェクトに紐づいているバナー画像を対象に、月次報告書を生成できます
- 承認済みの画像のみを対象にできます

## プロジェクトの使用例

### 例1：季節キャンペーン

「冬の特産品キャンペーン2025」というプロジェクトを作成し、以下の商品を紐づけます：
- 特選ジンギスカンセット
- いくら醤油漬け
- その他の冬の特産品

すべての商品のバナー画像を1つのプロジェクトで管理できます。

### 例2：新生活応援特集

「新生活応援特集」というプロジェクトを作成し、新生活に関連する商品をまとめて管理します。

## 権限

- **システム管理者・制作者**: すべてのプロジェクトを作成・編集・削除できます
- **自治体ユーザー**: 自分の自治体のプロジェクトのみ表示・確認できます
- **事業者ユーザー**: プロジェクト情報は表示されますが、直接編集はできません

## 注意事項

- プロジェクトに紐づいていない商品も存在できます（プロジェクトへの紐付けは任意）
- プロジェクトを削除しても、紐づいている商品やバナー画像は削除されません（紐付けのみ解除されます）
- 完了したプロジェクトは、新年度への移行時に「完了済み」として保護され、原則として編集できなくなります
